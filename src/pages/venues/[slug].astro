---
import { getCollection, render } from 'astro:content';
import { Image } from 'astro:assets';
import MainLayout from '../../layouts/MainLayout.astro';
import { Users, Maximize, Wifi, Video, Utensils, CheckCircle2 } from 'lucide-react';

export async function getStaticPaths() {
	const venues = await getCollection('venues');
	return venues.map((venue) => ({
		params: { slug: venue.id },
		props: { venue },
	}));
}

const { venue } = Astro.props;
const { Content } = await render(venue);
---

<MainLayout title={venue.data.title} description={venue.data.description}>
	<!-- Cinematic Hero -->
		<section class="relative h-[80vh] overflow-hidden bg-brand-primary">
			<Image 
				src={venue.data.heroImage} 
				alt={venue.data.title}
				width={1920}
				height={1080}
				class="absolute inset-0 w-full h-full object-cover grayscale opacity-20"
			/>
			<div class="absolute inset-0 bg-gradient-to-t from-brand-primary via-brand-primary/40 to-transparent" />
			<div class="container-premium relative h-full flex flex-col justify-end pb-24">
				<div class="flex items-center gap-4 mb-8 text-brand-accent">
					<div class="h-[1px] w-12 bg-current"></div>
					<span class="text-[10px] font-bold uppercase tracking-[0.5em]">Venue Specification</span>
				</div>
				<h1 class="text-6xl md:text-9xl font-display font-bold mb-8 uppercase leading-[0.85] tracking-tighter">{venue.data.title}</h1>
				<p class="text-white/40 max-w-3xl text-xl md:text-2xl font-light leading-relaxed">
					{venue.data.description}
				</p>
			</div>
		</section>

		<!-- Specs Performance Bar -->
		<section class="bg-brand-secondary border-y border-white/5 py-12">
			<div class="container-premium grid grid-cols-2 lg:grid-cols-4 gap-12">
				<div class="flex items-center gap-6 group">
					<div class="p-4 bg-brand-primary border border-white/5 text-brand-accent group-hover:border-brand-accent transition-colors">
						<Users size={24} />
					</div>
					<div>
						<div class="text-[9px] font-bold uppercase tracking-[0.3em] text-white/30 mb-1">Max Capacity</div>
						<div class="font-display font-bold text-lg uppercase">{venue.data.capacity} Delegates</div>
					</div>
				</div>
				<div class="flex items-center gap-6 group">
					<div class="p-4 bg-brand-primary border border-white/5 text-brand-accent group-hover:border-brand-accent transition-colors">
						<Maximize size={24} />
					</div>
					<div>
						<div class="text-[9px] font-bold uppercase tracking-[0.3em] text-white/30 mb-1">Area Size</div>
						<div class="font-display font-bold text-lg uppercase">{venue.data.sqm} SQM</div>
					</div>
				</div>
				<div class="flex items-center gap-6 group">
					<div class="p-4 bg-brand-primary border border-white/5 text-brand-accent group-hover:border-brand-accent transition-colors">
						<Video size={24} />
					</div>
					<div>
						<div class="text-[9px] font-bold uppercase tracking-[0.3em] text-white/30 mb-1">Infrastructure</div>
						<div class="font-display font-bold text-lg uppercase">Hybrid Ready</div>
					</div>
				</div>
				<div class="flex items-center justify-end">
					<a href="/enquire" class="btn-premium w-full lg:w-auto text-center">
						Enquire Now
					</a>
				</div>
			</div>
		</section>

		<!-- Detailed Performance Data -->
		<section class="py-32">
			<div class="container-premium grid grid-cols-1 lg:grid-cols-12 gap-32">
				
				<!-- Narrative & Specs -->
				<div class="lg:col-span-7">
					<div class="prose prose-invert mb-24">
						<h2 class="text-3xl font-display font-bold text-white uppercase mb-12 border-b border-white/5 pb-6">Executive Summary</h2>
						<Content />
					</div>
					
					<div class="grid grid-cols-1 md:grid-cols-2 gap-12">
						<div class="bento-card relative overflow-hidden group">
							<div class="absolute top-0 right-0 w-32 h-32 bg-brand-accent/5 -translate-y-1/2 translate-x-1/2 rounded-full blur-3xl group-hover:bg-brand-accent/10 transition-colors"></div>
							<h3 class="text-sm font-bold mb-8 uppercase tracking-[0.2em] text-white">Technical Ecosystem</h3>
							<ul class="space-y-6">
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									1Gbps Symmetrical Fiber
								</li>
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									Spatial Audio Arrays
								</li>
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									4K Broadcast Pipeline
								</li>
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									Smart Lighting Control
								</li>
							</ul>
						</div>
						<div class="bento-card relative overflow-hidden group">
							<div class="absolute top-0 right-0 w-32 h-32 bg-brand-accent/5 -translate-y-1/2 translate-x-1/2 rounded-full blur-3xl group-hover:bg-brand-accent/10 transition-colors"></div>
							<h3 class="text-sm font-bold mb-8 uppercase tracking-[0.2em] text-white">Service Matrix</h3>
							<ul class="space-y-6">
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									Dedicated Concierge
								</li>
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									Architectural Furniture
								</li>
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									Bespoke Catering Triage
								</li>
								<li class="flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-white/40 group-hover:text-white/60 transition-colors">
									<CheckCircle2 size={16} className="text-brand-accent" />
									Priority Logistics
								</li>
							</ul>
						</div>
					</div>
				</div>

				<!-- Secondary Details & CTA -->
				<div class="lg:col-span-5">
					<div class="sticky top-32 space-y-12">
						<div class="p-12 border border-white/5 bg-brand-secondary">
							<h4 class="text-[10px] font-bold uppercase tracking-[0.4em] text-brand-accent mb-10">Space Features</h4>
							<div class="space-y-6">
								{venue.data.features.map(feature => (
									<div class="flex items-center justify-between pb-6 border-b border-white/5 last:border-0 last:pb-0">
										<span class="text-sm font-medium text-white/60 uppercase tracking-widest">{feature}</span>
										<CheckCircle2 size={14} className="text-brand-accent" />
									</div>
								))}
							</div>
						</div>

						<div class="p-12 bg-brand-accent text-brand-primary shadow-2xl relative overflow-hidden group">
							<div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity"></div>
							<h3 class="text-2xl font-display font-bold mb-6 uppercase leading-tight">Request a Professional Proposal</h3>
							<p class="text-sm font-medium mb-12 opacity-80 leading-relaxed">
								Our event architects will craft a bespoke solution for {venue.data.title} within 4 business hours.
							</p>
							<a href="/enquire" class="block w-full py-5 bg-brand-primary text-white text-center text-xs font-bold uppercase tracking-[0.3em] hover:bg-brand-primary/90 transition-all shadow-xl">
								Secure Proposal
							</a>
						</div>
					</div>
				</div>

			</div>
		</section>
</MainLayout>
