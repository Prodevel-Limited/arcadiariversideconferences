---
import MainLayout from '../../layouts/MainLayout.astro';
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';
import FormattedDate from '../../components/FormattedDate.astro';

const events = (await getCollection('events')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<MainLayout title="Experience">
	<section class="py-40 border-b border-white/5 bg-grid">
			<div class="container-premium">
				<span class="text-brand-accent text-xs font-bold uppercase tracking-[0.5em] mb-8 block">Proven Operational Excellence</span>
				<h1 class="text-6xl md:text-9xl font-display font-bold mb-12 leading-[0.8] tracking-tighter uppercase">
					THE <span class="text-white/20 italic">EXPERIENCE</span>
				</h1>
				<p class="text-white/40 max-w-2xl text-xl leading-relaxed font-light">
					A visual archive of milestones, summits, and ceremonies that have defined the Arcadia Riverside standard.
				</p>
			</div>
		</section>

		<section class="py-32">
			<div class="container-premium">
				<div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
					{events.map((event) => (
						<article class="group relative bg-brand-secondary border border-white/5 overflow-hidden">
							<div class="aspect-[16/9] overflow-hidden">
								<Image 
									src={event.data.heroImage} 
									alt={event.data.title}
									width={1000}
									height={562}
									class="w-full h-full object-cover grayscale opacity-40 group-hover:grayscale-0 group-hover:scale-105 group-hover:opacity-100 transition-all duration-1000"
								/>
							</div>
							<div class="p-12">
								<div class="flex items-center justify-between mb-8">
									<div class="flex items-center gap-3">
										<div class="h-[1px] w-8 bg-brand-accent"></div>
										<span class="text-[10px] font-bold uppercase tracking-[0.3em] text-brand-accent">
											{event.data.client}
										</span>
									</div>
									<span class="text-[10px] font-bold uppercase tracking-[0.2em] text-white/20">
										<FormattedDate date={event.data.pubDate} />
									</span>
								</div>
								<h2 class="text-3xl font-display font-bold mb-6 uppercase tracking-tight group-hover:text-brand-accent transition-colors duration-500">
									{event.data.title}
								</h2>
								<p class="text-white/40 text-base leading-relaxed mb-10 line-clamp-3 font-light">
									{event.data.description}
								</p>
								<div class="flex flex-wrap gap-4 border-t border-white/5 pt-10">
									{event.data.tags.map(tag => (
										<span class="text-[9px] font-bold uppercase tracking-[0.3em] text-white/30 border border-white/5 px-4 py-2 group-hover:border-white/10 transition-colors">
											{tag}
										</span>
									))}
								</div>
							</div>
						</article>
					))}
				</div>
			</div>
		</section>

		<!-- Credibility Stats Section -->
		<section class="py-40 bg-brand-primary border-t border-white/5 overflow-hidden relative">
			<div class="absolute inset-0 bg-grid opacity-10 pointer-events-none"></div>
			<div class="container-premium text-center relative z-10">
				<div class="inline-block px-12 py-4 border border-brand-accent/20 mb-24">
					<h2 class="text-[10px] font-bold uppercase tracking-[0.5em] text-brand-accent">Excellence Metrics</h2>
				</div>
				<div class="grid grid-cols-2 lg:grid-cols-4 gap-20">
					<div class="group">
						<div class="text-5xl md:text-8xl font-display font-bold text-white mb-4 group-hover:text-brand-accent transition-colors">500<span class="text-white/20">+</span></div>
						<div class="text-[9px] font-bold uppercase tracking-[0.4em] text-white/30">Strategic Summits</div>
					</div>
					<div class="group">
						<div class="text-5xl md:text-8xl font-display font-bold text-white mb-4 group-hover:text-brand-accent transition-colors">45k</div>
						<div class="text-[9px] font-bold uppercase tracking-[0.4em] text-white/30">Global Delegates</div>
					</div>
					<div class="group">
						<div class="text-5xl md:text-8xl font-display font-bold text-white mb-4 group-hover:text-brand-accent transition-colors">120</div>
						<div class="text-[9px] font-bold uppercase tracking-[0.4em] text-white/30">Public Institutions</div>
					</div>
					<div class="group">
						<div class="text-5xl md:text-8xl font-display font-bold text-white mb-4 group-hover:text-brand-accent transition-colors">15</div>
						<div class="text-[9px] font-bold uppercase tracking-[0.4em] text-white/30">Industry Awards</div>
					</div>
				</div>
			</div>
		</section>
</MainLayout>
